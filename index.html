<!DOCTYPE html>
<html lang="en">
<head>
  <title>Razi Falah - Portfolio</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="HTML5 website template">
  <meta name="keywords" content="global, template, html, sass, jquery">
  <link href="style.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.1.1/css/all.css">
  <meta name="author" content="Bucky Maler">
  <link rel="stylesheet" href="assets/css/main.css">
  <script src="./removeBanner.js"></script>
</head>
<body>

<!-- notification for small viewports and landscape oriented smartphones -->
<div class="device-notification">
  <a class="device-notification--logo" href="#0">
    <img src="assets/img/logo.png" alt="Global">
    <p>Razi Falah</p>
  </a>
  <p class="device-notification--message">Hello there. I'm Razi Falah</p>
</div>

<div class="perspective effect-rotate-left">
  <div class="container"><div class="outer-nav--return"></div>
    <div id="viewport" class="l-viewport">
      <div class="l-wrapper">
        <header class="header">
          <a class="header--logo" href="#0">
            <img src="assets/img/logo.png" alt="Global">
            <p>Razi Falah</p>
          </a>
          <button class="header--cta cta">Use my service</button>
          <div class="header--nav-toggle">
            <span></span>
          </div>
        </header>
        <nav class="l-side-nav">
          <ul class="side-nav">
            <li class="is-active"><span>Home</span></li>
           <!-- <li><span>Works</span></li>-->
           <li><span>Contact</span></li>
            <li><span>Contact form</span></li>
            
          <!--   <li><span>Use my service</span></li> -->
          </ul>
        </nav>
        <ul class="l-main-content main-content">
          <li class="l-section section section--is-active">
            <div class="intro">
              <div class="intro--banner">
                <h1>Hello there!<br>I'm Razi<br>Falah.</h1>
                <button class="cta">Use my service
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                  <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                    <path d="M870,1167c-34-17-55-57-46-90c3-15,81-100,194-211l187-185l-565-1c-431,0-571-3-590-13c-55-28-64-94-18-137c21-20,33-20,597-20h575l-192-193C800,103,794,94,849,39c20-20,39-29,61-29c28,0,63,30,298,262c147,144,272,271,279,282c30,51,23,60-219,304C947,1180,926,1196,870,1167z"/>
                  </g>
                  </svg>
                  <span class="btn-background"></span>
                </button>
                <img src="assets/img/introduction-visual.png" alt="Welcome">
              </div>
              <div class="intro--options">
                <a href="#0">
                  <h3>Philosophy &amp; life.</h3>
                  <p>❝I know of no better life purpose than to perish in attempting the great and the impossible.❞</p>
                </a>
                <a href="#0">
                  <h3>Ethnics &amp; civil</h3>
                  <p>❝It does not matter who we are, What matters is our plan.❞</p>
                </a>
                <a href="#0">
                  <h3>Science &amp; achievements</h3>
                  <p>❝That's one small step for a man, a giant leap for mankind.❞</p>
                </a>
              </div>
              <center><h5>In Case I Don't See Ya again, Good Afternoon, Good Evening And Goodnight</h5></center>
            </div>
          </li><!--
          <li class="l-section section">
          --  <div class="work">
              <h2>Selected work</h2>
              <div class="work--lockup">
                <ul class="slider">
                  <li class="slider--item slider--item-left">
                    <a href="#0">
                      <div class="slider--item-image">
                        <img src="assets/img/work-victory.jpg" alt="Victory">
                      </div>
                      <p class="slider--item-title">Victory</p>
                      <p class="slider--item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                    </a>
                  </li>
                  <li class="slider--item slider--item-center">
                    <a href="#0">
                      <div class="slider--item-image">
                        <img src="assets/img/work-metiew-smith.jpg" alt="Metiew and Smith">
                      </div>
                      <p class="slider--item-title">Metiew &amp; Smith</p>
                      <p class="slider--item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                    </a>
                  </li>
                  <li class="slider--item slider--item-right">
                    <a href="#0">
                      <div class="slider--item-image">
                        <img src="assets/img/work-alex-nowak.jpg" alt="Alex Nowak">
                      </div>
                      <p class="slider--item-title">Alex Nowak</p>
                      <p class="slider--item-description">Lorem ipsum dolor sit amet, consectetur adipisicing elit sed do.</p>
                    </a>
                  </li>
                </ul>
                <div class="slider--prev">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                  viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                  <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                    <path d="M561,1169C525,1155,10,640,3,612c-3-13,1-36,8-52c8-15,134-145,281-289C527,41,562,10,590,10c22,0,41,9,61,29
                    c55,55,49,64-163,278L296,510h575c564,0,576,0,597,20c46,43,37,109-18,137c-19,10-159,13-590,13l-565,1l182,180
                    c101,99,187,188,193,199c16,30,12,57-12,84C631,1174,595,1183,561,1169z"/>
                  </g>
                  </svg>
                </div>
                <div class="slider--next">
                  <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                  <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                    <path d="M870,1167c-34-17-55-57-46-90c3-15,81-100,194-211l187-185l-565-1c-431,0-571-3-590-13c-55-28-64-94-18-137c21-20,33-20,597-20h575l-192-193C800,103,794,94,849,39c20-20,39-29,61-29c28,0,63,30,298,262c147,144,272,271,279,282c30,51,23,60-219,304C947,1180,926,1196,870,1167z"/>
                  </g>
                  </svg>
                </div>
              </div>
            </div>
          </li>
          <li class="l-section section">
            <div class="about">
              <div class="about--banner">
                <h2>We<br>believe in<br>passionate<br>people</h2>
                <a href="#0">Career
                  <span>
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 150 118" style="enable-background:new 0 0 150 118;" xml:space="preserve">
                    <g transform="translate(0.000000,118.000000) scale(0.100000,-0.100000)">
                      <path d="M870,1167c-34-17-55-57-46-90c3-15,81-100,194-211l187-185l-565-1c-431,0-571-3-590-13c-55-28-64-94-18-137c21-20,33-20,597-20h575l-192-193C800,103,794,94,849,39c20-20,39-29,61-29c28,0,63,30,298,262c147,144,272,271,279,282c30,51,23,60-219,304C947,1180,926,1196,870,1167z"/>
                    </g>
                    </svg>
                  </span>
                </a>
                <img src="assets/img/about-visual.png" alt="About Us">
              </div>
              <div class="about--options">
                <a href="#0">
                  <h3>Winners</h3>
                </a>
                <a href="#0">
                  <h3>Philosophy</h3>
                </a>
                <a href="#0">
                  <h3>History</h3>
                </a>
              </div>
            </div>
          </li>
          -->
          <li class="l-section section">
            <div class="contact">
              <div class="contact--lockup">
                <div class="modal">
                  <div class="modal--information">
                    <p>Israel, Northern district, Galilee</p>
                    <a href="mailto:i@razifalah.com">i@razifalah.com</a>
                    <a href="tel:+972-52-3075200">+972-52-3075200</a>
                  </div>
                  <ul class="modal--options">
                    <li><a href="mailto:i@razifalah.com">E-mail contact</a></li>
                    <p>You can also scroll to contact using form or click at the live chat button</p>
                  </ul>
                </div>
              </div>
            </div>
          </li>
          <li class="l-section section">
            <div class="hire">
              <h2>Please leave your details, and i'll get back to you</h2>
              <!-- checkout formspree.io for easy form setup -->
              <form class="work-request" action="f2m_api.php" method="post">
                <div class="work-request--options">
                </div>
                <div name="myemailform" class="work-request--information">
                  <div class="information-name">
                    <input name="name" id="name" type="text" spellcheck="false">
                    <label for="name">Name</label>
                  </div>
                  <div class="information-email">
                    <input name="email" id="email" type="email" spellcheck="false">
                    <label for="email">Email</label>
                  </div>
                  <input type="hidden" name="comments" rows="6" cols="30" value="You have a message!"></input>
                </div>
                <input type="submit" value="Send">
              </form>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <ul class="outer-nav">
    <li class="is-active">Home</li>
    <li>Home</li>
    <li>Contact</li>
    <li>Form contact</li>
    <!--<li>Use my service</li>-->
  </ul>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-2.2.4.min.js"><\/script>')</script>
<script src="assets/js/functions-min.js"></script>
<a href="#" class="open-chat-widget"><i class="fa-solid fa-comment-dots fa-lg"></i></a>
<div class="chat-widget">
    <div class="chat-widget-header">
        <a href="#" class="previous-chat-tab-btn">&lsaquo;</a>
        <a href="#" class="close-chat-widget-btn">&times;</a>
    </div>
    <div class="chat-widget-content">
        <div class="chat-widget-tabs">
            <div class="chat-widget-tab chat-widget-login-tab">
             <center> <p style="color:black">Contact via chat | razifalah.com</p></center>
                <form action="authenticate.php" method="post">
                    <input style="color:black;" type="text" name="name" placeholder="Your Name" required>
                    <input style="color:black;" type="email" name="email" placeholder="Your Email (oprtional)">
                    <div class="msg"></div>
                    <button type="submit">Submit</button>
                </form>
            </div>
            <div class="chat-widget-tab chat-widget-conversations-tab"></div>
            <div class="chat-widget-tab chat-widget-conversation-tab"></div>
        </div>
    </div>
</div>
<script>
 let currentChatTab = 1;
 let conversationId = null;
 let status = 'Idle';
 document.querySelector('.open-chat-widget').onclick = event => {
     event.preventDefault();
     initChat();
 };
 const initChat = () => {
document.querySelector('.chat-widget').style.display = 'flex';
document.querySelector('.chat-widget').getBoundingClientRect();
document.querySelector('.chat-widget').classList.add('open');
document.querySelector('.close-chat-widget-btn').onclick = event => {
event.preventDefault();
document.querySelector('.chat-widget').classList.remove('open');
};
document.querySelector('.chat-widget-login-tab form').onsubmit = event => {
event.preventDefault();
let formEle = document.querySelector('.chat-widget-login-tab form');
let formData = new FormData(formEle);
fetch(formEle.action, {
cache: 'no-store',
method: 'POST',
body: formData
}).then(response => response.text()).then(data => {
if (data.includes('operator')) {
    document.querySelector('.chat-widget-login-tab .msg').insertAdjacentHTML('beforebegin', '<input type="password" name="password" placeholder="Your Password" required>');
} else if (data.includes('success')) {

                fetch('conversations.php', { cache: 'no-store' }).then(response => response.text()).then(data => {
        status = 'Idle';
        document.querySelector('.chat-widget-conversations-tab').innerHTML = data;
        conversationHandler();
        selectChatTab(2);
    });

} else {
    document.querySelector('.chat-widget-login-tab .msg').innerHTML = data;
}
});    
};
if (document.cookie.match(/^(.*;)?\s*chat_secret\s*=\s*[^;]+(.*)?$/)) {
fetch('conversations.php', { cache: 'no-store' }).then(response => response.text()).then(data => {
if (data != 'error') {
    status = 'Idle';
    document.querySelector('.chat-widget-conversations-tab').innerHTML = data;
    conversationHandler();
    selectChatTab(2);
}
});
}
 
 };
const selectChatTab = value => {
currentChatTab = value;
document.querySelectorAll('.chat-widget-tab').forEach(element => element.style.transform = `translateX(-${(value-1)*100}%)`);
document.querySelector('.previous-chat-tab-btn').style.display = value > 1 ? 'block' : 'none';
if (value == 1 || value == 2) {
conversationId = null;
}
if (value == 1) {
document.cookie = 'chat_secret=;expires=Thu, 01 Jan 1970 00:00:01 GMT;';
}
};
document.querySelector('.previous-chat-tab-btn').onclick = event => {
event.preventDefault();
selectChatTab(currentChatTab-1);
};
const conversationHandler = () => {
document.querySelector('.chat-widget-new-conversation').onclick = event => {
event.preventDefault();
status = 'Waiting';
document.querySelector('.chat-widget-conversation-tab').innerHTML = `
<div class="chat-widget-messages">
    <div class="chat-widget-message">Searching for support agents, please hold...</div>
</div>
`;
selectChatTab(3);                
};
document.querySelectorAll('.chat-widget-conversation').forEach(element => {
element.onclick = event => {
    event.preventDefault();
    getConversation(element.dataset.id);
};
});
};
const getConversation = id => {
fetch(`conversation.php?id=${id}`, { cache: 'no-store' }).then(response => response.text()).then(data => {
conversationId = id;
status = 'Occupied';
document.querySelector('.chat-widget-conversation-tab').innerHTML = data;
selectChatTab(3);  
let chatWidgetInputMsg = document.querySelector('.chat-widget-input-message');
if (chatWidgetInputMsg) {
    if (document.querySelector('.chat-widget-messages').lastElementChild) {
        document.querySelector('.chat-widget-messages').scrollTop = document.querySelector('.chat-widget-messages').lastElementChild.offsetTop;
    }
    chatWidgetInputMsg.onsubmit = event => {
        event.preventDefault();
        fetch(chatWidgetInputMsg.action, { 
            cache: 'no-store',
            method: 'POST',
            body: new FormData(chatWidgetInputMsg)
        });
        let chatWidgetMsg = document.createElement('div');
        chatWidgetMsg.classList.add('chat-widget-message');
        chatWidgetMsg.textContent = chatWidgetInputMsg.querySelector('input').value;
        document.querySelector('.chat-widget-messages').insertAdjacentElement('beforeend', chatWidgetMsg);
        chatWidgetInputMsg.querySelector('input').value = '';
        document.querySelector('.chat-widget-messages').scrollTop = chatWidgetMsg.offsetTop;
    };
}
});
};
setInterval(() => {
if (currentChatTab == 2) {
fetch('conversations.php', { cache: 'no-store' }).then(response => response.text()).then(html => {
    let doc = (new DOMParser()).parseFromString(html, 'text/html');
    document.querySelector('.chat-widget-conversations').innerHTML = doc.querySelector('.chat-widget-conversations').innerHTML;
    conversationHandler();
}); 
} else if (currentChatTab == 3 && conversationId != null) {
fetch('conversation.php?id=' + conversationId, { cache: 'no-store' }).then(response => response.text()).then(html => {
    let canScroll = true;
    if (document.querySelector('.chat-widget-messages').lastElementChild && document.querySelector('.chat-widget-messages').scrollHeight - document.querySelector('.chat-widget-messages').scrollTop != document.querySelector('.chat-widget-messages').clientHeight) {
        canScroll = false;
    }                    
    let doc = (new DOMParser()).parseFromString(html, 'text/html');
    document.querySelector('.chat-widget-messages').innerHTML = doc.querySelector('.chat-widget-messages').innerHTML;
    if (canScroll && document.querySelector('.chat-widget-messages').lastElementChild) {
        document.querySelector('.chat-widget-messages').scrollTop = document.querySelector('.chat-widget-messages').lastElementChild.offsetTop;
    }                   
});  
} else if (currentChatTab == 3 && status == 'Waiting') {
fetch('find_conversation.php', { cache: 'no-store' }).then(response => response.text()).then(data => {
    if (data != 'error') {
        getConversation(data);
    }
});               
}
}, 5000);
</script>
</body>
</html>
